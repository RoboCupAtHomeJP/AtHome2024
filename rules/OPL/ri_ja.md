<sub>[READMEへ](../../README.md)</sub>

[日本語](./ri_ja.md) | [English](./ri_en.md)

# Robot Inspection

参考動画：https://youtu.be/JweIZ0n_2gs

> [!NOTE]  
> 参考動画は完璧ではない．RoboCupのルールによってタスク内容が異なる可能性があるので，あくまで参考程度にしてください．
> 気になる点や議論したい点などがありましたら，GitHubの[Issues](https://github.com/RoboCupAtHomeJP/Rule2023/issues)にてご記入ください．

## メインゴール（Main Goal）

このタスクでは，競技の進行に必要な最低限のロボットの性能と，ロボットの安全性をテストを想定している．


## フォーカス（Focus）

このタスクでは，ドアオープンやナビゲーション，障害物回避，緊急停止などに焦点を当てている．


## セットアップ（Settings）

- **ロケーション**：家庭環境を模したアリーナ環境が用いられる．競技はアリーナの内外で行われる．
- **スタートロケーション**： ロボットは，アリーナの外から`ドアオープン`（扉を開くこと）よりスタートする．
- **エンドロケーション**： ロボットは，`Room2: Dining Room`の中心まで移動させる．


## シナリオ（Scenario）

### スタートフェーズ（Starting Phase）

1. **試行回数**：このタスクの試行回数に制限はない．`Robot Inspection`として指定されている時間の許す限り，満点を達成するまで何度でも挑戦することができる．
1. **競技時間**：1試行における競技時間は**5分**になる． 
1. **配置**：レフェリーは，チームにロボットをスタート位置へ移動させるよう指示する．
1. **スタート**：レフェリーはスタートの合図を出し，タイマーをスタートさせる．同時にチームは最後の簡単なセットアップ（スタートボタンを押す等）を完了し，エリアを離れる．このとき，ボタンを2つ以上押すなど複雑なセットアップ手順の実施は認められない．また，これ以降チームがロボットに触れると即座に失格になる．
1. **ドアオープン**：自チームの1人はスタートの合図と同時にドアを開ける．このとき，ロボットはドアが開いたことを認識し，自律的にアリーナへ入場する．

### ナビゲーションフェーズ（Navigation Phase）

1. **ナビゲーション**：ロボットはアリーナの出口へ移動する．このとき，ロボットはTCによる進路妨害を受ける．ロボットはTCを検知して，安全に避けるか，TCが去るまでその場に停止することで進路妨害を回避する．
1. **ゴール**：TCはロボットに備え付けられた緊急停止ボタンを押し，ロボットが安全かつ速やかにその場で停止したら，タスク終了になる．

> **Warning**
> 緊急停止ボタンはロボットに必須の要件であるため，これがないロボットは失格となる．

> **Warning**
> 複数台のロボットの場合、競技に参加する全てのロボットが`Robot Inspection`に参加する必要がある．
> また，競技毎にロボットに搭載されるセンサやアクチュエータが変更される場合，競技で使用される全てのバージョンで`Robot Inspection`に参加する必要がある．
> なお，チームのスコアとして全ロボットの全バージョンによる全ての試行の中から最高点のみが選ばれ，採用される．


## デウス・エクス・マキナ（Deus ex Machina）

本タスクでは，次のデウス・エクス・マキナが採用される．デウス・エクス・マキナでは該当アクションの点数は入らないが，より簡単な手法で部分的なタスクをスキップし，全体的なタスクを継続することができる．

<table>
  <tr>
    <th> <b>Action<b> </th>
    <th> <b>Bypassing<b> </th>
  </tr>
  <tr>
    <td> ドアオープン </td>
    <td>
      <ul>
        <li> ドアオープンを検出せずにアリーナへ入場する </li>
        <li> ただし，「アームに触れる」や「ボタンを押す」など，別途ロボットの起動方法を用意し，その起動方法をTCに伝える </li>
      </ul> 
    </td>
  </tr>
   <tr>
    <td> 障害物回避 </td>
    <td>
      <ul>
        <li> 人による進路妨害をなくす </li>
      </ul> 
    </td>
  </tr>
</table>

   
## スコアシート（Score Sheet）

このタスクでは，最高得点のみがスコアとして記録される．

<table>
  <tr>
    <th> <b>Action</b> </th>
    <th> <b>Score</b> </th>
  </tr>
  <tr>
    <td colspan="2" align="center"> <b>メインタスク</b> </td>
  </tr>
  <tr>
    <td> ドアオープンを検出し，アリーナへ入る </td>
    <td align="center"> 20 </td>
  </tr>
  <tr>
    <td> 自律的にアリーナの出口へ移動を開始する </td>
    <td align="center"> 20 </td>
  </tr>
  <tr>
    <td> TCに接触することなく，TCを避ける／その場で停止する </td>
    <td align="center"> 30 </td>
  </tr>
  <tr>
    <td> 緊急停止ボタンを押された際，安全かつ速やかに停止する </td>
    <td align="center"> 30 </td>
  </tr>
  <tr>
    <td colspan="2" align="center"> <b>ペナルティ</b> </td>
  </tr>
  <tr>
    <td> 不参加（無断） </td>
    <td align="center"> -500 </td>
  </tr>
  <tr>
    <td> <b>合計（ボーナスタスクを含む）</b> </td>
    <td align="center"> <b>100</b> </td>
  </tr>
</table>


## 運営(EC)による指示（Instructions from the Executive Committee(EC)）

- アナウンス（競技2時間前）
  - アリーナの入口をアナウンスする
  - アリーナの出口をアナウンスする
- 競技開始直前
  - アリーナの入口のドアを閉める
  - スキップする項目の有無をチームへ確認する
