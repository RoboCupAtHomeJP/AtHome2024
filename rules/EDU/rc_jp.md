[日本語](./rc_jp.md) | [English](./rc_en.md)

# Receptionist(RC)　ルール

世界大会の以下のルールをもとにTLMでルールの詳細を最終決定します．

[Education rules 2023](https://docs.google.com/document/d/1cHRMwnPajsPiEZNw1celFjHG1CSGTA2uyJ2VcAoEuoc/edit?usp=sharing)

[@Home 2022 Rules](https://athome.robocup.org/wp-content/uploads/2022_rulebook.pdf)

## メインゴール
このタスクでは，ロボットが2人のゲストをリビングまで案内し，紹介した後，ゲストを空いている席に座らせます

<br>

## フォーカス
システムインテグレーション，人とロボットのインタラクション、人検出、人認識

<br>

## セットアップ
- スタート位置： ロボットは，アリーナ内入口近くの指定された位置からスタートします．
- 時間：セットアップ5分，競技時間7分
- ホスト：名前はジョン、好きな飲み物はコーヒー． ホストの事前に定義された場所は，セットアップ日に発表される．
- ゲスト：2人のゲストにはそれぞれ名前と好きな飲み物が設定されている．ゲストはロボットに部屋の中へ案内され紹介される．2人のゲストはそれぞれ別のタイミングで到着し，ロボットの前にやってくる．



<br>

## アリーナ
今回使用する環境は決定次第公開します．  
<!-- ※入口にドアはありません  
※ホストの位置はセットアップ日に公開します. -->
<!-- ![map](./map.png) -->

<br>

## 進行
- メインタスク（2回繰り返す）
  - ゲストの検出
      - 部屋に入ってきたゲストを検出する
  - ゲストの受付
      - ロボットはゲストに名前と好きな飲み物を聞く．理解できなかった場合，聞き返すことができる．
  - ゲストの紹介
      - ゲストをホストに紹介する．ロボットは紹介するゲストを指差し，名前と好きな飲み物について紹介する．
  - ゲストを空いている席に案内
      - ゲストを空いている席へ案内し，座らせる．ロボットはゲストが座れる場所（空席）を指差す．
  - 席の入れ替え
      - 新しいゲストが来ると，座っているゲストの場所を交換する場合がある．
- ボーナスタスク
    - ロボットは１人目のゲストの特徴４つ※（例：服の色，髪の色，性別，年齢）を2人目のゲストに紹介するとボーナス点を獲得できる．

ロボットが人間とやりとりする際，その対象となる相手に注意を向ける必要がある．
たとえば，ロボットは一人を指差し，もう一人の方向を向いて話す，二人を交互に見ながら話すなど．

※特徴の取得は、音声認識以外  

<br>

## ローカルルール
基本的にルールは世界大会に準拠していますが，RCJ2024のみで適用するローカルルールがあります．
1. 競技時間は7分
2. 会話する人との距離は1.5m以内
3. 特徴の取得は音声認識以外
4. 空席の検出の得点は，証拠の提示が必要


<br>

## 使用する特徴について
TLMで議論し決定されたもののみになります．
<!-- 今回決定した特徴は以下のとおりです．  
以下の項目の中の特徴であれば，どれを使用しても大丈夫です．   -->
各チームが使用する特徴の最終決定は前日のTLMで行います．


- 身長(height)
- 年齢(age)
- 性別(gender)
- 髪の色(hair color),
- ズボンの色(color of pants)
- マスク着用の有無(Whether or not to wear a mask)
- 眼鏡着用の有無(Whether or not to wear glasses)
- 帽子着用の有無(Whether or not to wear a hat)
- ズボンの色(color of pants)
- トップスの色(color of clothes) 
- トップスの袖の長さ(sleeve length)


【注意】
・マスク、眼鏡、帽子に関しては、着用していない場合、報告できません
・これ以外の特徴を使用したい場合、現地のTLMで全チームの承認を得る必要があります。

<br>


## 飲み物と名前について
以下の中からランダムに割り当てられます。

【名前】
- Adam
- Axel
- Chris
- Hunter
- Jack
- Max	
- Paris	
- Robin	
- Olivia
- William


【飲み物】
- coke
- green tea
- orange juice
- soda
- wine
- water



<br>

## デウスエクスマキナ
本競技では，次のデウスエクスマキナが採用されます．  
デウスエクスマキナでは減点されますが，より簡単な手法でアクションをスキップし，  
タスクを継続することができます．

<table>
  <tr>
    <th> <b>アクション<b> </th>
    <th> <b>スキップ方法<b> </th>
  </tr>
  <tr>
    <td> 人認識 </td>
    <td>
      <ul>
        <li> マーカーを用いて人間を特定し注意を向ける </li>
      </ul> 
    </td>
  </tr>
  <tr>
    <td> 空席検出 </td>
    <td>
      <ul>
        <li> 	マーカーを用いて空席を検出する </li>
      </ul> 
    </td>
  </tr>
</table>

<br>
   
## スコアシート
このタスクでは，2回のトライアルの内，最高得点のみがスコアとして記録されます．
<table>
  <tr>
    <th> <b>Action</b> </th>
    <th> <b>Score</b> </th>
  </tr>
  <tr>
    <td colspan="2" align="center"> <b>メインゴール</b> </td>
  </tr>
    <tr>
    <td> 1人目のゲストをホストに紹介する </td>
    <td > </td>
  </tr>
  <tr>
    <td> 　1人目のゲストの名前をホストに紹介する </td>
    <td align="center"> 50 </td>
  </tr>
  <tr>
    <td> 　1人目のゲストの好きな飲み物をホストに紹介する </td>
    <td align="center"> 50 </td>
  </tr>
  <tr>
    <td> 　紹介中に1人目のゲストに注意を向ける</td>
    <td align="center"> 45 </td>
  </tr>
  <tr>
    <td> 1人目のゲストに空いている席を案内する </td>
    <td align="center">  </td>
  </tr>
    <tr>
    <td> 　空席を検出する </td>
    <td align="center"> 100 </td>
  </tr>
  <tr>
    <td> 　空席を指差して/向いて座るよう指示する </td>
    <td align="center"> 50 </td>
  </tr>
  </tr>
    <tr>
    <td> 2人目のゲストをホストに紹介する </td>
    <td > </td>
  </tr>
  <tr>
    <td> 　2人目のゲストの名前をホストに紹介する </td>
    <td align="center"> 50 </td>
  </tr>
  <tr>
    <td> 　2人目のゲストの好きな飲み物をホストに紹介する </td>
    <td align="center"> 50 </td>
  </tr>
  <tr>
    <td> 　紹介中に2人目のゲストに注意を向ける</td>
    <td align="center"> 45 </td>
  </tr>
  <tr>
    <td> 2人目のゲストに空いている席を案内する </td>
    <td align="center">  </td>
  </tr>
    <tr>
    <td> 　空席を検出する </td>
    <td align="center"> 100 </td>
  </tr>
  <tr>
    <td> 　空席を指差して/向いて座るよう指示する </td>
    <td align="center"> 50 </td>
  </tr>
    <tr>
    <td colspan="2" align="center"> <b>ボーナスタスク</b> </td>
  </tr>
  <tr>
    <td> 1人目のゲストの特徴4つを2人目のゲストに説明する </td>
    <td align="center"> 40x4 </td>
  </tr>
    <tr>
    <td colspan="2" align="center"> <b>ペナルティ</b> </td>
  </tr>
  <tr>
    <td> 不参加(無断欠席) </td>
    <td align="center"> -500 </td>
  </tr>
  <tr>
    <td> <b>合計(ボーナスタスクを含む)</b> </td>
    <td align="center"> <b>750</b> </td>
  </tr>
</table>

<br>

## 運営による指示
- 前日のTLM
  - 各チームが使用する特徴の確認 
- 競技開始直前
  - ゲスト全員の位置と名前を割り当てる
  - スキップする項目の有無をチームへ確認する


<br>

## 各チームの事前準備
<!-- - ゲストについて
  - 各チーム2人以上のゲストを連れてくる必要があります -->
- 採点者について
  - 各チーム1人の採点者を出して頂きます．
  <!-- 詳しくは前日のTLMで確認します -->